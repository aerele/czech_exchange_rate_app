{
 "absolute_value": 0,
 "align_labels_right": 0,
 "creation": "2024-01-13 08:55:11.990496",
 "custom_format": 0,
 "default_print_language": "en",
 "disabled": 0,
 "doc_type": "Sales Invoice",
 "docstatus": 0,
 "doctype": "Print Format",
 "font_size": 14,
 "format_data": "[{\"fieldname\": \"print_heading_template\", \"fieldtype\": \"Custom HTML\", \"options\": \"<div class=\\\"col-xs-12\\\">\\n    <div class=\\\"row\\\">\\n        <div class=\\\"col-xs-9\\\" style=\\\"text-align:left;font-size:14px;margin-top: 0px;padding-left:0px;\\\"><h4>{{ _(\\\"Invoice - tax document no\\\")}}. {{ _( doc.name) }}</h4></div>\\n        <div class=\\\"col-xs-3\\\" style=\\\"font-size:18px;margin-top:5px;margin-bottom:0px;padding-bottom:0;\\\"></div>\\n    </div>\\n</div>\\n\"}, {\"fieldtype\": \"Section Break\", \"label\": \"\"}, {\"fieldtype\": \"Column Break\"}, {\"fieldname\": \"_custom_html\", \"print_hide\": 0, \"label\": \"Custom HTML\", \"fieldtype\": \"HTML\", \"options\": \"<style>\\r\\n    .print-format {\\r\\n    font-size: 13px;\\r\\n    background: white;\\r\\n}\\r\\n\\r\\n</style>\\r\\n<div class=\\\"col-xs-12\\\">\\r\\n    <div class=\\\"row section-break\\\" style=\\\"padding-bottom: 10px;\\\">\\r\\n        <div style=\\\"padding-left:0px;\\\" class=\\\"col-xs-4\\\">\\r\\n             <div>\\r\\n                <b>Supplier</b>\\r\\n            </div>\\r\\n            <div>\\r\\n                <b>{{doc.company}}</b>\\r\\n            </div>\\r\\n            {% if doc.company_address %}\\r\\n                <div>\\r\\n                    {{ _(frappe.db.get_value(\\\"Address\\\",doc.company_address, \\\"address_line1\\\")) }}\\r\\n                </div>\\r\\n                <div>\\r\\n                    {% if frappe.db.get_value(\\\"Address\\\",doc.company_address, \\\"address_line2\\\") %}\\r\\n                        {{ _(frappe.db.get_value(\\\"Address\\\",doc.company_address, \\\"address_line2\\\")) }}\\r\\n                    {% endif %}\\r\\n                </div>\\r\\n                <div>\\r\\n                    {% if frappe.db.get_value(\\\"Address\\\",doc.company_address, \\\"country\\\") %}\\r\\n                        {{ _(frappe.db.get_value(\\\"Address\\\",doc.company_address, \\\"country\\\")) }}\\r\\n                    {% endif %}\\r\\n                </div>\\r\\n                <div>\\r\\n                    {{ _(\\\"ID\\\") }}: {{ _(frappe.db.get_value(\\\"Address\\\",doc.company_address, \\\"id\\\")) or \\\"\\\"}}\\r\\n                </div>\\r\\n                <div>\\r\\n                    {{_(\\\"VAT ID\\\")}}: {{ _(frappe.db.get_value(\\\"Address\\\",doc.company_address, \\\"vat_id\\\")) or \\\"\\\"}}\\r\\n                </div>\\r\\n            {% endif %}\\r\\n        </div>\\r\\n        <div class=\\\"col-xs-5\\\">\\r\\n           <br><br>\\r\\n           <div>\\r\\n                {{_(\\\"E mail\\\")}}: {% if frappe.db.get_value(\\\"Address\\\",doc.company_address, \\\"email_id\\\") %}{{ _(frappe.db.get_value(\\\"Address\\\",doc.company_address, \\\"email_id\\\")) }}{% else %}{{_(\\\"europe@sdigifts.co\\\")}}{% endif %}\\r\\n            </div>\\r\\n           <div>\\r\\n                {{_(\\\"Phone\\\")}}: {% if frappe.db.get_value(\\\"Address\\\",doc.company_address, \\\"phone\\\") %}{{ _(frappe.db.get_value(\\\"Address\\\",doc.company_address, \\\"phone\\\")) }}{% else %}420910119478{% endif %}\\r\\n            </div>\\r\\n           <div>\\r\\n                {{_(\\\"Web\\\")}}: {{_(frappe.db.get_value(\\\"Company\\\",doc.company,\\\"website\\\")) or \\\"\\\" }}\\r\\n           </div>\\r\\n        </div>\\r\\n        <div class=\\\"col-xs-3\\\" style=\\\"text-align:left;padding-left:20px;\\\">\\r\\n        </div>\\r\\n    </div>\\r\\n</div>\"}, {\"fieldtype\": \"Section Break\", \"label\": \"\"}, {\"fieldtype\": \"Column Break\"}, {\"fieldname\": \"_custom_html\", \"print_hide\": 0, \"label\": \"Custom HTML\", \"fieldtype\": \"HTML\", \"options\": \"<style>\\r\\n    .print-format .row:not(.section-break) {\\r\\n    line-height: 1.6;\\r\\n    margin-top: 0px !important;  \\r\\n    color:#0e0e0e!important; \\r\\n}\\r\\n.print-format label {\\r\\n    font-weight: normal;\\r\\n    font-size: 13px;\\r\\n    color: #0e0e0e;\\r\\n    margin-bottom: 0;\\r\\n}\\r\\n</style>\\r\\n\\r\\n<div class=\\\"col-xs-12\\\" >\\r\\n    <div class=\\\"row section-break\\\" style=\\\"padding-left: 0px;margin-top:0;margin-bottom:0;\\\">\\r\\n        <div class=\\\"col-xs-7\\\" style=\\\"padding-left:0px;\\\">\\r\\n            <div style=\\\"margin-top:0;margin-bottom:0;padding-left:0px;\\\" class=\\\"row data-field\\\">\\r\\n                <div class=\\\"col-xs-6\\\" style=\\\"margin-top:0;margin-bottom:0;\\\"><label>Payment Method:</label></div>\\r\\n                <div class=\\\"col-xs-6 value\\\" style=\\\"padding-left: 0px;margin-top:0;margin-bottom:0;\\\">Bank Transfer</div>\\r\\n            </div>\\r\\n            <div style=\\\"margin-top:0;margin-bottom:0;\\\" class=\\\"row data-field\\\">\\r\\n                <div class=\\\"col-xs-6\\\" style=\\\"margin-top:0px!important;margin-bottom:0;\\\" ><b>Account No:</b></div>\\r\\n                <div class=\\\"col-xs-6 value\\\" style=\\\"padding: 0;\\\">\\r\\n                    <b>{{doc.account_number or \\\"\\\"}}</b>\\r\\n                </div>\\r\\n            </div>\\r\\n            <div style=\\\"margin-top:0;margin-bottom:0;font-size:13px;\\\" class=\\\"row data-field\\\">\\r\\n                <div class=\\\"col-xs-6\\\"><label>IBAN:</label></div>\\r\\n                <div class=\\\"col-xs-6 value\\\" style=\\\"padding-left: 0px;\\\">\\r\\n                    {{doc.iban_number or \\\"\\\"}}\\r\\n                </div>\\r\\n            </div>\\r\\n            <div style=\\\"margin-top:0;margin-bottom:0;\\\" class=\\\"row data-field\\\">\\r\\n                <div class=\\\"col-xs-6\\\"><label>SWIFT</label></div>\\r\\n                <div class=\\\"col-xs-6 value\\\" style= \\\"padding:0\\\">RZBCCZPP</div>\\r\\n            </div>\\r\\n            <div style=\\\"margin-top:0;margin-bottom:0;\\\" class=\\\"row data-field\\\">\\r\\n                <div class=\\\"col-xs-6\\\"><label>Variable Symbol</label></div>\\r\\n                <div class=\\\"col-xs-6 value\\\" style=\\\"padding-left: 0px;\\\">{{doc.name}}</div>\\r\\n            </div>\\r\\n            <!--\\r\\n            <div style=\\\"margin-top:0;margin-bottom:0;\\\" class=\\\"row data-field\\\">\\r\\n                <div class=\\\"col-xs-6\\\"><label>Constant symbol</label></div>\\r\\n                <div class=\\\"col-xs-6 value\\\" style=\\\"padding-left: 0px;\\\"></div>\\r\\n            </div> -->\\r\\n           \\r\\n        </div>\\r\\n        <div class=\\\"col-xs-5\\\">\\r\\n                  \\r\\n         <div><b>Delivery Address</b></div>\\r\\n         <div><b>{{doc.customer}}</b></div>\\r\\n         {% if doc.shipping_address_name %}\\r\\n             <div>{{  frappe.db.get_value(\\\"Address\\\",doc.shipping_address_name,\\\"address_line1\\\") }}</div>\\r\\n             <div>{% if frappe.db.get_value(\\\"Address\\\",doc.shipping_address_name,\\\"address_line2\\\") %}{{ frappe.db.get_value(\\\"Address\\\",doc.shipping_address_name,\\\"address_line2\\\") }}{% endif %}</div>\\r\\n             <div>{% if frappe.db.get_value(\\\"Address\\\",doc.shipping_address_name,\\\"country\\\") %}{{ frappe.db.get_value(\\\"Address\\\",doc.shipping_address_name,\\\"country\\\") }}{% endif %}</div>\\r\\n         {% endif %}\\r\\n        </div>\\r\\n    </div>            \\r\\n    <br>\\r\\n</div>\"}, {\"fieldtype\": \"Section Break\", \"label\": \"\"}, {\"fieldtype\": \"Column Break\"}, {\"fieldname\": \"_custom_html\", \"print_hide\": 0, \"label\": \"Custom HTML\", \"fieldtype\": \"HTML\", \"options\": \"<style>\\n    .print-format .row:not(.section-break) {\\n    line-height: 1.6;\\n    margin-top: 0px !important; \\n}\\n.print-format label {\\n    font-weight: normal;\\n    font-size: 13px;\\n    color: #0e0e0e;\\n    margin-bottom: 0;\\n}\\n</style>\\n\\n<div class=\\\"col-xs-12\\\" >\\n    <div class=\\\"row section-break\\\" style=\\\"padding-left: 0px;margin-top:0;margin-bottom:0;\\\">\\n        <div class=\\\"col-xs-7\\\" style=\\\"padding-left:0px;\\\">\\n            <div style=\\\"margin-top:0;margin-bottom:0;padding-left:0px;\\\" class=\\\"row data-field\\\">\\n                <div class=\\\"col-xs-6\\\" style=\\\"margin-top:0;margin-bottom:0;color:black;\\\"><label>Order No.:</label></div>\\n                <div class=\\\"col-xs-6 value\\\" style=\\\"padding-left: 0px;margin-top:0;margin-bottom:0;\\\">{{doc.po_no or \\\"\\\"}}</div>\\n            </div>\\n            <div style=\\\"margin-top:0;margin-bottom:0;\\\" class=\\\"row data-field\\\">\\n                <div class=\\\"col-xs-6\\\" style=\\\"margin-top:0px!important;margin-bottom:0;\\\" >Date of Issue:</div>\\n                <div class=\\\"col-xs-6 value\\\" style=\\\"margin-top:0px!important;padding-left: 0px;\\\">{{doc.get_formatted(\\\"po_date\\\") or doc.get_formatted(\\\"posting_date\\\")  }}</div>\\n            </div>\\n            <div style=\\\"margin-top:0;margin-bottom:0;\\\" class=\\\"row data-field\\\">\\n                <div class=\\\"col-xs-6\\\"><label>Date of Taxable Supply:</label></div>\\n                <div class=\\\"col-xs-6 value\\\" style=\\\"padding-left: 0px;\\\">{{ doc.get_formatted(\\\"posting_date\\\")}}</div>\\n            </div>\\n            <div style=\\\"margin-top:0;margin-bottom:0;\\\" class=\\\"row data-field\\\">\\n                <div class=\\\"col-xs-6\\\"><label><b>Due Date:</b></label></div>\\n                <div class=\\\"col-xs-6 value\\\" style=\\\"padding-left: 0px;\\\"><b>{{doc.get_formatted(\\\"due_date\\\")}}</b></div>\\n            </div>\\n        </div>\\n        <div class=\\\"col-xs-5\\\">\\n            <div><b>Customer</b></div>\\n            <div><b>{{doc.customer}}</b></div>\\n            {% if doc.customer_address %}\\n                {% set addr = frappe.get_doc(\\\"Address\\\",doc.customer_address) %}\\n                <div>{{ addr.address_line1 }}</div>\\n                <div>{% if addr.address_line2 %}{{addr.address_line2}}{% endif %}</div>\\n                <div>{% if addr.country %}{{ addr.country }}{% endif %}</div>\\n                <div>ID : {{ frappe.db.get_value(\\\"Address\\\",doc.customer_address, \\\"id\\\") or \\\"\\\"}}</div>\\n                <div>VAT ID : {{ frappe.db.get_value(\\\"Address\\\",doc.customer_address, \\\"vat_id\\\") or \\\"\\\"}}</div>\\n            {% endif %}\\n        </div>\\n    </div>\\n    <br>\\n</div>\"}, {\"fieldtype\": \"Section Break\", \"label\": \"\"}, {\"fieldtype\": \"Column Break\"}, {\"fieldname\": \"_custom_html\", \"print_hide\": 0, \"label\": \"Custom HTML\", \"fieldtype\": \"HTML\", \"options\": \"{% set tax_details_list = {} %}\\n{% set negative_tax_details_list = {} %}\\n{% set invoiced_amount_list = {\\\"total_base_rate\\\": 0 , \\\"total_vat_rate\\\": 0, \\\"invoiced_total\\\": 0} %}\\n{% set invoiced_amount_list_negative = {\\\"total_base_rate\\\": 0 , \\\"total_vat_rate\\\": 0, \\\"invoiced_total\\\": 0} %}\\n<div>\\n    <table width=100% style = \\\"border: 1px solid black\\\">\\n        <tr style = \\\"border: 1px solid black;font-size:13px;\\\">\\n            <th\\n                style = \\\"width:25%;\\n                color: black;\\n                border: 1px solid black;\\n                background-color: #dddddd;\\n                font-size:13px;font-size:13px;\\\">\\n                <b>\\n                    Item\\n                </b>\\n            </th>\\n            <th\\n                style = \\\"width:10%;\\n                color: black;\\n                border: 1px solid black;\\n                background-color: #dddddd;\\n                font-size:13px;\\\">\\n                <b>\\n                    Quantity\\n                </b>\\n            </th>\\n            <th\\n                style = \\\"width:10%;\\n                color: black;\\n                border: 1px solid black;\\n                background-color: #dddddd;\\n                font-size:13px;\\\">\\n                <b>\\n                    Unit\\n                </b>\\n            </th>\\n            <th\\n                style = \\\"width:15%;\\n                color: black;\\n                border: 1px solid black;\\n                background-color: #dddddd;\\n                font-size:13px;\\\">\\n                <b>\\n                    Unit Price\\n                </b>\\n            </th>\\n            <th\\n                style = \\\"width:10%;\\n                color: black;\\n                border: 1px solid black;\\n                background-color: #dddddd;\\n                font-size:13px;\\\">\\n                <b>\\n                    VAT %\\n                </b>\\n            </th>\\n            <th\\n                style = \\\"width:10%;\\n                color: black;\\n                border: 1px solid black;\\n                background-color: #dddddd;\\n                font-size:12px;\\\">\\n                <b>\\n                    W/O VAT\\n                </b>\\n            </th>\\n            <th\\n                style = \\\"width:10%;\\n                color: black;\\n                border: 1px solid black;\\n                background-color: #dddddd;\\n                font-size:13px;\\\">\\n                <b>\\n                    VAT\\n                </b>\\n            </th>\\n            <th\\n                style = \\\"width:10%;\\n                color: black;\\n                border: 1px solid black;\\n                background-color: #dddddd;\\n                font-size:13px;\\\">\\n                <b>\\n                    Total\\n                </b>\\n            </th>\\n        </tr>\\n        {% set tax_breakup = get_item_taxes(doc.doctype, doc.name) %}\\n        {% for row in doc.items %}\\n            <tr style = \\\"border: 1px solid black\\\">\\n                <td style = \\\"border: 1px solid black;font-size:13px;\\\">{{row.item_name}}</td>\\n                <td style = \\\"border: 1px solid black;font-size:13px;\\\">{{row.qty}}</td>\\n                <td style = \\\"border: 1px solid black;font-size:13px;\\\">{{row.uom or \\\"\\\"}}</td>\\n                <td style = \\\"border: 1px solid black;font-size:13px;\\\">{{frappe.utils.fmt_money(row.rate | round(2))}}</td>\\n\\n                {% set item_code = row.item_code or row.item_name %}\\n                {% set per = tax_breakup.get(item_code, 0) %}\\n\\n                <td style = \\\"border: 1px solid black;font-size:13px;\\\">\\n                    {{per}}%\\n                </td>\\n                {% set amount = row.amount | round(2) %}\\n                <td style = \\\"border: 1px solid black;font-size:13px;\\\">{{ frappe.utils.fmt_money(amount) }}</td>\\n                {% set vat = ( amount * (per / 100)) | round(2) %}\\n                <td style = \\\"border: 1px solid black;font-size:13px;\\\">{{ frappe.utils.fmt_money(vat) }}</td>\\n                {% set total = (amount + vat) | round(2) %}\\n                <td style = \\\"border: 1px solid black;font-size:13px;\\\">{{ frappe.utils.fmt_money(total ) }}</td>\\n                {% if row.amount >= 0 %}\\n                    {% set _ = invoiced_amount_list.update({'total_base_rate': invoiced_amount_list['total_base_rate'] + amount}) %}\\n                    {% set _ = invoiced_amount_list.update({'total_vat_rate': invoiced_amount_list['total_vat_rate'] + vat}) %}\\n                    {% set _ = invoiced_amount_list.update({'invoiced_total': invoiced_amount_list['invoiced_total'] + total}) %}\\n\\n                    {% if per not in tax_details_list %}\\n                        {%\\n                            set _ = tax_details_list.update({per:\\n                            {\\n                                \\\"base_rate\\\" : amount,\\n                                \\\"vat_rate\\\" : vat,\\n                                \\\"total\\\" : total\\n                            }})\\n                        %}\\n                    {% else %}\\n                        {% set _ = tax_details_list[per].update(\\n                                { \\\"base_rate\\\" : tax_details_list[per]['base_rate'] + amount }\\n                            )\\n                        %}\\n                        {% set _ = tax_details_list[per].update(\\n                                {\\\"vat_rate\\\" : tax_details_list[per]['vat_rate'] + vat }\\n                            )\\n                        %}\\n                        {% set _ = tax_details_list[per].update(\\n                                {\\\"total\\\" : tax_details_list[per]['total'] + total }\\n                            )\\n                        %}\\n                    {% endif %}\\n                {% else %}\\n                    {% set _ = invoiced_amount_list_negative.update({'total_base_rate': invoiced_amount_list_negative['total_base_rate'] + amount}) %}\\n                    {% set _ = invoiced_amount_list_negative.update({'total_vat_rate':  invoiced_amount_list_negative['total_vat_rate'] + vat}) %}\\n                    {% set _ = invoiced_amount_list_negative.update({'invoiced_total':  invoiced_amount_list_negative['invoiced_total'] + total}) %}\\n\\n                    {% if per not in negative_tax_details_list %}\\n                        {%\\n                            set _ = negative_tax_details_list.update({per:\\n                            {\\n                                \\\"base_rate\\\" : amount,\\n                                \\\"vat_rate\\\" : vat,\\n                                \\\"total\\\" : total\\n                            }})\\n                        %}\\n                    {% else %}\\n                        {% set _ = negative_tax_details_list[per].update(\\n                                { \\\"base_rate\\\": (negative_tax_details_list[per]['base_rate'] + amount | abs )}\\n                            )\\n                        %}\\n                        {% set _ = negative_tax_details_list[per].update(\\n                                {\\\"vat_rate\\\" : negative_tax_details_list[per]['vat_rate'] + vat}\\n                            )\\n                        %}\\n                        {% set _ = negative_tax_details_list[per].update(\\n                                {\\\"total\\\" : negative_tax_details_list[per]['total'] + total }\\n                            )\\n                        %}\\n                    {% endif %}\\n                {% endif  %}\\n            </tr>\\n        {% endfor %}\\n    </table>\\n    <br>\\n</div>\\n\\n<div>\\n    <p>{{_(doc.terms)}}</p>\\n    <br>\\n</div>\\n\\n<style>\\n    .print-format td, .print-format th {\\n    padding: 5px !important;\\n}\\n</style>\\n\\n{% set com_cur = frappe.db.get_value(\\\"Company\\\",doc.company, \\\"default_currency\\\") %}\\n<div class=\\\"col-xs-12\\\" style = \\\"page-break-inside: avoid\\\">\\n    <div class=\\\"row\\\">\\n        <div class=\\\"col-xs-4\\\" style=\\\"text-align:left;margin-top: 0px;padding-left:0px;\\\">\\n            <!--  <img id='barcode'\\n            src=\\\"https://api.qrserver.com/v1/create-qr-code/?data=38udbhbhubhdbdhubehubedxuhbwxdsdhbxwhbhwbu9bbehhwbhdbddbudu832888223&amp;size=100x100\\\"\\n            alt=\\\"\\\"\\n            title=\\\"HELLO\\\"\\n            width=\\\"175\\\"\\n            height=\\\"175\\\" /> -->\\n        </div>\\n        <div class=\\\"col-xs-8\\\" style=\\\"font-size:13px;margin-top:0px;margin-bottom:0px;\\\">\\n            <table width = \\\"100%\\\">\\n                <tr width = \\\"100%\\\" style = \\\"border-bottom: 1px solid black; border-top: 1px solid black;font-size:13px;\\\">\\n                    <th width = \\\"25%\\\" style = \\\" color: black;\\\"></th>\\n                    <th width = \\\"25%\\\" style = \\\" color: black;\\\"><b>BASE</b></th>\\n                    <th width = \\\"25%\\\" style = \\\" color: black;\\\"><b>VAT RATE</b></th>\\n                    <th width = \\\"25%\\\" style = \\\" color: black;\\\"><b>Total</b></th>\\n                </tr>\\n                <tr width = \\\"100%\\\" style = \\\"border-bottom: 1px solid black; border-top: 1px solid black;font-size:13px;\\\">\\n                    <td style= \\\"font-size:8px\\\"><b>{{\\\"Invoiced Amount\\\"}}<br>({{doc.currency}})</b></td>\\n                    {% set sum_base_rate = invoiced_amount_list['total_base_rate'] | round(2) %}\\n                    <td width = \\\"25%\\\" style = \\\" color: black;\\\">{{ frappe.utils.fmt_money(sum_base_rate ) }}</td>\\n                    {% set sum_vat_rate = invoiced_amount_list['total_vat_rate']  | round(2) %}\\n                    <td width = \\\"25%\\\" style = \\\" color: black;\\\">{{ frappe.utils.fmt_money( sum_vat_rate) }}</td>\\n                    {% set sum_total = (sum_base_rate + sum_vat_rate ) | round(2)%}\\n                    <td width = \\\"25%\\\" style = \\\" color: black;\\\">{{ frappe.utils.fmt_money( sum_total ) }}</td>\\n                </tr>\\n                {% set positive = {'base_rate': 0, 'vat_rate': 0, 'total': 0} %}\\n                {% for per in tax_details_list %}\\n                    <tr width = \\\"100%\\\" style = \\\"border-bottom: 1px solid black; border-top: 1px solid black;font-size:13px;\\\">\\n                        <td width = \\\"25%\\\" style = \\\" color: black;\\\">{{ per }} % </td>\\n                        {% set exchange_rate = doc.conversion_rate | round(3) %}\\n                        {% set exc_base_rate = ( tax_details_list[per]['base_rate'] * exchange_rate) | round(2) %}\\n                        {% set br = positive['base_rate'] + exc_base_rate %}\\n                        {% set _= positive.update({'base_rate': br}) %}\\n                        <td width = \\\"25%\\\" style = \\\" color: black;\\\">{{ frappe.utils.fmt_money(exc_base_rate) }}</td>\\n                        {% set exc_vat_rate = (tax_details_list[per]['vat_rate'] * exchange_rate ) | round(2) %}\\n                        {% set vr = positive['vat_rate'] + exc_vat_rate %}\\n                        {% set _= positive.update({'vat_rate': vr}) %}\\n                        <td width = \\\"25%\\\" style = \\\" color: black;\\\">{{ frappe.utils.fmt_money( exc_vat_rate) }}</td>\\n                        {% set exc_total = (exc_base_rate + exc_vat_rate ) | round(2) %}\\n                        {% set totl = positive['total'] + exc_total %}\\n                        {% set _= positive.update({'total': totl}) %}\\n                        <td width = \\\"25%\\\" style = \\\" color: black;\\\">{{ frappe.utils.fmt_money(exc_total) }}</td>\\n                    </tr>\\n                {% endfor %}\\n                {% set negative = {'base_rate': 0, 'vat_rate': 0, 'total': 0} %}\\n                {% for per in negative_tax_details_list %}\\n                    <tr width = \\\"100%\\\" style = \\\"border-bottom: 1px solid black; border-top: 1px solid black;font-size:13px;\\\">\\n                        {% set exchange_rate = doc.conversion_rate | round(3) %}\\n                        <td width = \\\"25%\\\" style = \\\" color: black;border-bottom: 1px solid black;\\\">{{per}} %</td>\\n                        {% set neg_base_rate = (negative_tax_details_list[per]['base_rate'] * exchange_rate ) | round(2) %}\\n                        {% set br = negative['base_rate'] + neg_base_rate %}\\n                        {% set _= negative.update({'base_rate': br}) %}\\n                        <td width = \\\"25%\\\" style = \\\" color: black;border-bottom: 1px solid black;\\\">\\n                            {{ frappe.utils.fmt_money(neg_base_rate) }}\\n                        </td>\\n                        {% set neg_vat_rate = (negative_tax_details_list[per]['vat_rate'] * exchange_rate ) | round(2) %}\\n                        {% set vr = negative['vat_rate'] + neg_vat_rate %}\\n                        {% set _= negative.update({'vat_rate': vr}) %}\\n                        <td width = \\\"25%\\\" style = \\\" color: black;border-bottom: 1px solid black;\\\">\\n                            {{ frappe.utils.fmt_money( neg_vat_rate ) }}\\n                        </td>\\n                        {% set neg_total = (neg_base_rate + neg_vat_rate ) | round(2) %}\\n                        {% set totl = negative['total'] + neg_total %}\\n                        {% set _= negative.update({'total': totl}) %}\\n                        <td width = \\\"25%\\\" style = \\\" color: black;border-bottom: 1px solid black;\\\">\\n                            {{ frappe.utils.fmt_money(neg_total) }}\\n                        </td>\\n                    </tr>\\n                {% endfor %}\\n                <tr width = \\\"100%\\\" style = \\\"border-bottom: 1px solid black; border-top: 1px solid black;font-size:13px;\\\">\\n                    <td width = \\\"25%\\\" style = \\\" color: black;\\\">Total</td>\\n                    {% set total_base = positive['base_rate'] + negative['base_rate'] %}\\n                    <td width = \\\"25%\\\" style = \\\" color: black;\\\">{{ frappe.utils.fmt_money( total_base | round(2) )  }}</td>\\n                    {% set total_vat = positive['vat_rate'] + negative['vat_rate'] %}\\n                    <td width = \\\"25%\\\" style = \\\" color: black;\\\">{{ frappe.utils.fmt_money(total_vat | round(2) ) }}</td>\\n                    {% set total_tax = positive['total'] + negative['total']  %}\\n                    <td width = \\\"25%\\\" style = \\\" color: black;\\\">{{ frappe.utils.fmt_money(total_tax | round(2) ) }}</td>\\n                </tr>\\n                <tr>\\n                    <td colspan=4 style = \\\"text-align:right;\\\">\\n                        <h6 style = \\\"margin-top: 0px; margin-bottom: 0px;\\\">\\n                            {{_(\\\"Note: Amounts contain rounded numbers\\\")}}\\n                        </h6>\\n                    </td>\\n                </tr>\\n                {% set dig = {0: '', 1: '0', 2: '00', 3: '000'} %}\\n                {% set str_ex = frappe.utils.fmt_money(doc.conversion_rate | round(3)) | string %}\\n                {% set len = str_ex.split(',')[1] | length %}\\n                {% set exchange_rate = str_ex + dig.get(3-len) %}\\n                <tr>\\n                    <td colspan=4 style = \\\"text-align:right;\\\">\\n                        <b>\\n                            <h5 style = \\\"margin-top: 0px; margin-bottom: 0px;\\\">\\n                            {% if doc.conversion_rate == 1%}\\n                                {{_(\\\"Exchange rate:\\\")}} {{exchange_rate}}\\n                            {% else %}\\n                                {{_(\\\"Exchange rate:\\\")}} {{exchange_rate}} {{_(frappe.db.get_value(\\\"Currency\\\", com_cur, \\\"symbol\\\"))}} / 1 {{doc.currency}}\\n                            {% endif %}\\n                            </h5>\\n                        </b>\\n                    </td>\\n                </tr>\\n                <tr style = \\\"background-color:hsl(91deg 91% 53% / 38%)\\\">\\n                    <td colspan = 2 style = \\\"text-align: center\\\">\\n                        <b>{{_(\\\"Total amount to be paid :\\\")}}</b>\\n                    </td>\\n                    <td colspan = 2 style = \\\"text-align: center\\\">\\n                        {% set final_value = invoiced_amount_list['invoiced_total'] + invoiced_amount_list_negative['invoiced_total'] %}\\n                        <b>{{frappe.utils.fmt_money( final_value | round(2))}} {{doc.currency}}</b>\\n                    </td>\\n                </tr>\\n            </table>\\n        </div>\\n    </div>\\n</div>\"}]",
 "idx": 0,
 "line_breaks": 0,
 "margin_bottom": 15.0,
 "margin_left": 15.0,
 "margin_right": 15.0,
 "margin_top": 15.0,
 "modified": "2024-01-13 08:55:11.990496",
 "modified_by": "Administrator",
 "module": "Czech Exchange Rate",
 "name": "SDI - Tax invoice",
 "owner": "Administrator",
 "page_number": "Hide",
 "print_format_builder": 0,
 "print_format_builder_beta": 0,
 "print_format_type": "Jinja",
 "raw_printing": 0,
 "show_section_headings": 0,
 "standard": "Yes"
}